<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rivanta Resort Rating</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 40px;
}

.star {
  font-size: 45px;
  cursor: pointer;
  color: #ccc;
  transition: transform 0.2s, color 0.2s;
}

.star:hover {
  transform: scale(1.2);
}

.star.selected {
  color: gold;
  text-shadow: 0 0 12px gold;
}

button {
  margin-top: 25px;
  padding: 10px 22px;
  font-size: 16px;
  cursor: pointer;
}
</style>
</head>

<body>

<h1>RIVANTA RESORT</h1>
<p>Please rate your experience</p>

<div id="stars">
  <span class="star" data-val="1">★</span>
  <span class="star" data-val="2">★</span>
  <span class="star" data-val="3">★</span>
  <span class="star" data-val="4">★</span>
  <span class="star" data-val="5">★</span>
</div>

<br>

<button id="submitBtn">Submit Rating</button>
<button id="changeBtn" style="display:none;">Change Rating</button>

<p id="message"></p>

<script>
let rating = 0;
let locked = false;

const stars = document.querySelectorAll('.star');
const submitBtn = document.getElementById('submitBtn');
const changeBtn = document.getElementById('changeBtn');
const message = document.getElementById('message');

stars.forEach(star => {
  star.onclick = () => {
    if (locked) return;
    rating = star.dataset.val;
    stars.forEach(s =>
      s.classList.toggle('selected', s.dataset.val <= rating)
    );
  };
});

submitBtn.onclick = () => {
  if (rating === 0) {
    alert("Please select a rating");
    return;
  }

  locked = true;
  submitBtn.style.display = "none";
  changeBtn.style.display = "inline";

  if (rating <= 3) {
    window.location.href = "feedback.html?rating=" + rating;
  } else {
    message.innerText = "Thank you for your wonderful experience!";
  }
};

changeBtn.onclick = () => {
  locked = false;
  submitBtn.style.display = "inline";
  changeBtn.style.display = "none";
  message.innerText = "";
};
</script>

</body>
</html>
