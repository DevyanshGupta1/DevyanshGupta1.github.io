<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rivanta Feedback</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
* { box-sizing: border-box; }
body { margin: 0; font-family: "Segoe UI", Arial, sans-serif; background: #1e3032; color: #ffffff; }

/* MAIN LAYOUT */
.container { display: flex; min-height: 100vh; }

/* LEFT */
.left { width: 50%; display: flex; align-items: center; justify-content: center; padding: 40px; }

/* CARD */
.card {
  background: #1e3032;
  border-radius: 18px;
  padding: 45px;
  width: 100%;
  max-width: 480px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.6);
  animation: fadeUp 0.8s ease;
  text-align: center;
}

.logo { width: 140px; margin-bottom: 22px; }
.subtitle { font-size: 18px; margin-bottom: 28px; color: #e5e7eb; }

/* FORM FIELDS */
.field { position: relative; margin-bottom: 18px; }
.field span { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); opacity: 0.75; }

input, textarea {
  width: 100%;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.35);
  border-radius: 12px;
  padding: 14px 16px 14px 42px;
  font-size: 16px;
  color: #ffffff;
  outline: none;
}

textarea { resize: none; }

input::placeholder, textarea::placeholder { color: rgba(255,255,255,0.6); }

input:focus, textarea:focus { border-color: #ffffff; }

/* FIELD ICONS */
.name-icon span { content: "ðŸ‘¤"; }
.phone-icon span { content: "ðŸ“ž"; }
.email-icon span { content: "ðŸ“§"; }
.feedback-icon span { content: "ðŸ’¬"; }

/* BUTTON */
button {
  margin-top: 14px;
  background: #000000;
  color: #ffffff;
  border: none;
  border-radius: 32px;
  padding: 14px 28px;
  font-size: 16px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

button:hover:not(:disabled) { transform: translateY(-2px); }
button:disabled { opacity: 0.5; cursor: not-allowed; }

/* RIGHT IMAGE */
.right {
  width: 50%;
  background-image: linear-gradient(rgba(30,48,50,0.45), rgba(0,0,0,0.55)), url("assets/resort.jpg");
  background-size: cover;
  background-position: center;
  animation: fadeIn 1s ease;
}

/* THANK YOU MESSAGE */
.thank-you {
  display: none;
  font-size: 22px;
  margin-top: 20px;
  color: #cda146;
}

/* ANIMATIONS */
@keyframes fadeUp { from { opacity: 0; transform: translateY(25px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* MOBILE */
@media (max-width: 768px) {
  .container { flex-direction: column; }
  .right { width: 100%; height: 42vh; }
  .left { width: 100%; padding: 30px 20px; }
  .card { padding: 35px 25px; }
}
</style>
</head>

<body>
<div class="container">

  <!-- LEFT -->
  <div class="left">
    <div class="card">

      <img src="assets/logo.png" class="logo" alt="Rivanta Resort Logo">

      <p class="subtitle">How was your experience with Rivanta? Weâ€™d love to hear your feedback.</p>

      <form id="feedbackForm">

        <div class="field name-icon">
          <span>ðŸ‘¤</span>
          <input type="text" id="name" placeholder="Your Name" required>
        </div>

        <div class="field phone-icon">
          <span>ðŸ“ž</span>
          <input type="tel" id="phone" placeholder="Phone Number" required>
        </div>

        <div class="field email-icon">
          <span>ðŸ“§</span>
          <input type="email" id="email" placeholder="Email Address" required>
        </div>

        <div class="field feedback-icon">
          <span>ðŸ’¬</span>
          <textarea id="feedback" rows="4" placeholder="Write your feedback here..." required></textarea>
        </div>

        <button type="submit" id="submitBtn" disabled>Submit â†’</button>

      </form>

      <div class="thank-you" id="thankYou">
        Thank you for your feedback!
      </div>

    </div>
  </div>

  <!-- RIGHT -->
  <div class="right"></div>

</div>

<script>
const form = document.getElementById("feedbackForm");
const thankYou = document.getElementById("thankYou");

const nameInput = document.getElementById("name");
const phoneInput = document.getElementById("phone");
const emailInput = document.getElementById("email");
const feedbackInput = document.getElementById("feedback");
const submitBtn = document.getElementById("submitBtn");

// Enable submit only when all fields filled
function validateForm() {
  submitBtn.disabled = !(nameInput.value && phoneInput.value && emailInput.value && feedbackInput.value);
}
[nameInput,phoneInput,emailInput,feedbackInput].forEach(el=>el.addEventListener("input", validateForm));

// Submit to Google Sheets
form.addEventListener("submit", function(e){
  e.preventDefault();

  const data = {
    name: nameInput.value,
    phone: phoneInput.value,
    email: emailInput.value,
    feedback: feedbackInput.value
  };

  fetch("https://script.google.com/macros/s/AKfycbyNvWZp2HnGq0oxV9Cotv6p511IKv-14U4p6Pcw0i_am4chMsnRAzzR6D-0LqZH0QP6rg/exec", {
    method: "POST",
    body: new URLSearchParams(data)
  })
  .then(res => res.json())
  .then(result => {
    if(result.result === "success"){
      form.style.opacity = "0";
      setTimeout(()=> {
        form.style.display = "none";
        thankYou.style.display = "block";
        setTimeout(()=>{
          thankYou.style.opacity = "1";
        },50);
      },600);

      [nameInput, phoneInput, emailInput, feedbackInput, submitBtn].forEach(el => el.disabled=true);
    }
  })
  .catch(err => alert("Error submitting feedback."));
});
</script>

</body>
</html>
